FROM amazoncorretto:11-alpine-jdk

WORKDIR /app/source

COPY . .

# Fix mvnw permission
RUN chmod +x mvnw

# Build application
RUN ./mvnw package

# Copy jar
RUN cp target/*.jar app.jar

ENTRYPOINT ["java", "-jar", "app.jar"]
